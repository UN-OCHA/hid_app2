.tabs {
  position: relative;
  @include clearfix;
}

.tabs__control-button {
  @include btn();
  border: none;
  width: 100%;
  padding: $base-unit*1.5 $base-unit;
  background: $light-blue;
  color: $dark-blue;
  margin-bottom: $base-unit/2;

  &:focus, &:hover {
    text-decoration: underline;
    box-shadow: none;
  }

  &.active:not(.tabs__control-button--mobile-closed) {
    background: $primary-color;
    color: $text-light;

    &:focus {
      opacity: 1;
    }
  }
}

.tabs__content {
  margin-bottom: $base-unit/2;

  &.tabs__content--mobile-closed {
    display: none;
  }
}

@include media-query(md) {

  .tabs__control-item {
    display: block;
    float: left;
    width: 100%;

    .tabs-2 & {
      &:nth-child(2) {
        .tabs__control-button {
          left: percentage(1/2);
        }
      }
    }

    .tabs-3 & {
      &:nth-child(2) {
        .tabs__control-button {
          left: percentage(1/3);
        }
      }

      &:nth-child(3) {
        .tabs__control-button {
          left: percentage(2/3);
        }
      }
    }

    .tabs-4 & {
      &:nth-child(2) {
        .tabs__control-button {
          left: percentage(1/4);
        }
      }

      &:nth-child(3) {
        .tabs__control-button {
          left: percentage(2/4);
        }
      }

      &:nth-child(4) {
        .tabs__control-button {
          left: percentage(3/4);
        }
      }
    }
  }

  .tabs__control-button {
    margin: 0;
    height: $base-unit*5;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    padding: $base-unit*1.5 $base-unit;
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    border-bottom: 2px solid $primary-color;

    .tabs-2 & {
      width: 50%;
    }
    .tabs-3 & {
      width: percentage(1/3);
    }
    .tabs-4 & {
      width: percentage(1/4);
    }

    &.active.tabs__control-button--mobile-closed {
      background: $primary-color;
      color: $text-light;
    }
  }

  .tabs__content {
    margin-top: $base-unit*5;
    width: 100%;

    &.tabs__content--mobile-closed {
      display: block;
    }
  }

}


// Move this and update styleguide when make daahboard tab changes

.tab-buttons {
  border-bottom: 2px solid $border-grey;
  display: flex;
}

.tab-buttons__button {
  @include btn;
  @include font-size($small-font-size);
  border: none;
  border-bottom: 2px solid transparent;
  position: relative;
  width: auto;
  padding: $base-unit*1.5 $base-unit $base-unit $base-unit;
  margin-bottom: -2px;
  color: $text-dark;

  &:disabled {
    border: none;
    color: $primary-color;
    font-weight: bold;
    opacity: 1;
    border-bottom: 2px solid $primary-color;
  }

  &:hover, &:focus, &:disabled:hover, &:disabled:focus {
    color: $primary-color;
    font-weight: bold;
    box-shadow: none;
    border: none;
    border-bottom: 2px solid $primary-color;
    background: $light-grey;
  }
}

@include media-query(sm) {

  .tab-buttons {
    margin-top: $base-unit;
  }

  .tab-buttons__button {
    padding-left: $base-unit*4;
    padding-right: $base-unit*4;
  }

}

@include media-query(lg) {

  .tab-buttons {
    margin-top: $base-unit*3;
  }

  .tab-buttons__button {
    @include font-size($base-font-size);
    padding-left: $base-unit*10;
    padding-right: $base-unit*10;
  }
}
