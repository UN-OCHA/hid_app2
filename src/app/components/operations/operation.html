<div sticky stickyelement=".page-header" class="page-header-mobile">
  <h1 class="page-header-mobile__heading">{{operationList.name}}</h1>

  <div class="page-header-mobile__buttons" ng-if="isManager || currentUser.is_admin">

    <button class="btn-icon btn-toggle-admin" type="button" ng-click="sidebar.toggle('admin', true)" ng-class="{'active' : sidebar.sidebars.admin && sidebar.open}" ng-disabled="!isOnline">
      <icon name="wheel" text="Actions"></icon>
    </button>
  </div>
</div>

<div class="page-header">
  <h1 class="page-header__heading">{{operationList.name}}</h1>

  <div class="page-header__buttons page-header__buttons--list" ng-if="isManager || currentUser.is_admin">
    <a class="btn-icon btn-toggle-admin t-list-admin-btn" type="button" href="operations/{{operation._id}}" ng-disabled="!isOnline">
      <icon name="wheel" text="Actions"></icon>
    </a>
  </div>

</div>

<div class="row">

  <div class="col-md-4">

    <div class="secondary-block">
      <h2 class="secondary-block__heading" translate>Key Lists</h2>

      <ul class="secondary-block__list">

        <li class="secondary-block__item" ng-repeat="key_list in operation.key_lists">
          <span class="list-type list-type--{{key_list.type}}">
            {{key_list.displayType || key_list.type}}
          </span>&nbsp;
          <a ng-href="/lists/{{key_list._id}}">{{key_list.name}}</a>
        </li>
      </ul>

      <h2 class="secondary-block__heading" translate>Key Contacts</h2>

      <ul class="secondary-block__list">

        <li class="secondary-block__item" ng-repeat="key_role in operation.key_roles">
          <a ng-href="/lists/{{operationList._id}}?functional_roles.list={{key_role._id}}">{{key_role.name}}</a>
        </li>
      </ul>

    </div>

  </div>

  <div class="col-md-8 block">

    <h2 class="block-heading" translate>Groups</h2>

    <table class="table table-responsive">
      <tbody>
        <tr ng-repeat="group in groups">
          <td class="table__td-primary"><a ng-href="/lists/{{group._id}}">{{group.name}}</a></td>
          <td>
            <span class="list-type list-type--{{group.type}}">
              {{group.displayType || group.type}}
            </span>
          </td>
          <td>{{group.count}} <span translate>contacts</span></td>
        </tr>
      </tbody>
    </table>

    <h2 class="block-heading" translate>Coordination Hubs</h2>

    <table class="table table-responsive">
      <tbody>
        <tr ng-repeat="office in offices">
          <td class="table__td-primary"><a ng-href="/lists/{{office._id}}">{{office.name}}</a></td>
          <td>
            <span class="list-type list-type--{{office.type}}">
              {{office.displayType || office.type}}
            </span>
          </td>
          <td>{{office.count}} <span translate>contacts</span></td>
        </tr>
      </tbody>
    </table>

    <h2 class="block-heading" translate>Disasters</h2>

    <table class="table table-responsive">
      <tbody>
        <tr ng-repeat="disaster in disasters">
          <td class="table__td-primary"><a ng-href="/lists/{{disaster._id}}">{{disaster.name}}</a></td>
          <td>
            <span class="list-type list-type--{{disaster.type}}">
              {{disaster.displayType || disaster.type}}
            </span>
          </td>
          <td>{{disaster.count}} <span translate>contacts</span></td>
        </tr>
      </tbody>
    </table>

  </div>
</div>
